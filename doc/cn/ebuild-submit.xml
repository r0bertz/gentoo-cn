<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/guide.xsl" ?>
<!-- $Header: /var/www/www.gentoo.org/raw_cvs/gentoo/xml/htdocs/doc/en/ebuild-submit.xml,v 1.9 2004/03/22 14:28:16 swift Exp $ -->
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link = "/doc/zh_cn/ebuild-submit.xml">
<title>发布Ebuilds</title>
<author title="Author">
  <mail link="mbutcher@frii.com">Matt Butcher</mail>
</author>
<author title="Translator">
  <mail link="joanphan@gmail.com">Hans Joanphan</mail>
</author>

<abstract>
这篇指南解释了怎样通过Bugzilla跟踪系统提交ebuild软件包。
</abstract>

<version>1.3</version>
<date>March 22, 2004</date>

<chapter>
<title>准备开始</title>
<section>
<title>创建一个Bugzilla帐号</title>
<body>

<p>
将你的浏览器指向<uri>http://bugs.gentoo.org</uri>。这是Bugzilla跟踪系统的网络地址。在这里的链接列表中，其中一项是“Open a new Bugzilla account”。如果你以前没有创建过帐号（如提交一个bug），点击这个链接创建一个新的帐号。
</p>

</body>
</section>
<section>
<title>不要提交CPAN Ebuilds</title>
<body>

<p>
Portage提供一个叫<c>g-cpan.pl</c>的工具，给你的Gentoo系统装上一个给定的CPAN模块，在安装一个ebuild时就像它应该做的在Portage数据库中存储必要的信息（如依赖性、提供的文件等等）。因此没有必要（不推荐）提交CPAN ebuilds。
</p>

<p>
有关<c>g-cpan.pl</c>更多的信息，请参考起man页面。
</p>

</body>
</section>
</chapter>

<chapter>
<title>提交一个ebuild</title>
<section>
<title>创建一个新的bug</title>
<body>

<p>
在主页或者登录页面的底部，有一个黄色的方框。选择<c>New - Expert</c>链接。或者，你就直接去<uri>http://bugs.gentoo.org/enter_bug.cgi</uri>页面。上面两种方法都可以将你带到<c>Enter Bug</c>页面。
</p>

<note>
在一个Bugzilla系统里，所有的记录都是bug。这也就包括了新提交的ebuilds。每个bug都会分配给一个跟踪ID。留意这个ID，特别是你有其他的ebuilds对这个软件包有依赖性的时候。
</note>

<p>
Bugzilla可以跟踪多个产品。比如说，在Gentoo里，其他的产品可能包含文档或者工具用来管理这个网站。在产品列表中，Ebuilds应该都提交到<c>Gentoo Linux</c>。
</p>

<p>
点击<c>Gentoo Linux</c>产品，你将会被带到一个新的bug记录表格中。
</p>

</body>
</section>
<section>
<title>完成bug表格</title>
<body>

<p>
表格的第一栏是<c>version</c>。如果你知道你的软件包属于那个版本，就在这里填上。否则，选择<c>unspecified</c>。接着，设置其分类。所有的ebuild脚本都属于<c>Ebuilds</c>。
</p>

<impo>
Ebuilds应该<e>一直</e>都是<c>Ebuild</c>分类。其他的分类如<c>GNOME</c>、<c>Libraries</c>和<c>Server</c>虽然也可以应用于你的ebuild，但是他们是用来对软件包提交bug的，而不是提交ebuild的。
</impo>

<p>
对于ebuild，分类<c>Platform</c>、<c>OS</c>和<c>Priority</c>都不需要设定。
</p>

<p>
<c>Severity</c>栏应该设定为<c>enhancement</c>。
</p>

<p>
<c>Assigned To</c>栏空白即可，但是如果你要跟中你的ebuild的状态，在<c>CC</c>栏输入你的email。
</p>

<p>
在<c>Summary</c>栏填入你要提交的软件包的简单注释和是一个更新版本还是新的提交。像如下的就比较好：<c>foo-bar-x.y.z.ebuild(New Package)</c>或者<c>foo-x.y.z.ebuild (Update)</c>。
</p>

<p>
<c>Description</c>栏应该填的尽量完整。下面就是从Bug Number 7拿来的一个例子：
</p>

<pre>
Hi!

Please find attached gramps-0.7.0.ebuild and a patch so that it will 
compile against python-2.2

gramps is the Genealogical Research and Analysis Management Programming
System.  It is a very cool gnome/python app.  If you are in the US, you
can head over to http://www.familysearch.com/ and you can probably find a 
GEDCOM file for your family tree to import into gramps. (Mormons sure do like 
geneaology)

I suggest app-misc/gramps Also, this ebuild depend on Imaging and ReportLab
previously submitted

tod
</pre>

<p>
一旦完成摘要的填入，点击<c>Commit</c>。
</p>

</body>
</section>
<section>
<title>附上Ebuild脚本</title>
<body>

<p>
在<c>Enter Bug</c>页面点击<c>submit</c>后，你将会来到<c>Posting Bug</c>页面。请留意一下bug编号。
</p>

<p>
在这个页面的底部，有一个<c>Create a new attachment</c>的链接。点击这个链接。
</p>

<p>
是用文本记录框或者<c>Browser</c>对话框来选择文件。在<c>Description</c>栏，输入这个ebuild文件的名字，就同上一页中<c>Summary</c>栏填入的一样。
</p>

<p>
确保内容类型是设为"text/plain"，并且多选框中的<c>select from list</c>是被选中的。
</p>

<p>
表格上已经没有其他必须的栏要填入了。点击<c>Submit</c>，你也完成了提交。
</p>

</body>
</section>
</chapter>

<chapter>
<title>多个Ebuilds</title>
<section>
<title>依赖性</title>
<body>

<p>
如果你要提交多个ebuilds，并且其中的一些依赖于另外一些，注意到依赖性问题将会很有用。再一次查看bug，它应该允许你填入另外一个注释。在这里加上依赖性信息就可以了。
</p>

</body>
</section>
</chapter>
</guide>
