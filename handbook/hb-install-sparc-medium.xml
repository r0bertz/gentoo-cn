<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sections SYSTEM "/dtd/book.dtd">

<!-- The content of this document is licensed under the CC-BY-SA license 
 See http://creativecommons.org/licenses/by-sa/2.5 
 $Header: /var/cvsroot/gentoo/xml/htdocs/doc/en/handbook/hb-install-sparc-medium.xml,v 1.42 2006/08/30 22:52:28 nightmorph Exp $ -->
<sections>

<version>7.0</version>
<date>2006-08-30</date>

<section>
<title>必需的硬件</title>
<subsection>
<title>介绍</title>
<body>

<p>
在开始之前，我们先把安装Gentoo所需的硬件列出来。
</p>

</body>
</subsection>
<subsection>
<title>必需的硬件</title>
<body>

<table>
<tr>
  <th>Sparc系统</th>
  <ti>
    请先检查<uri link="/proj/en/base/sparc/sunhw.xml">Gentoo 
Linux/SPARC64兼容性列表</uri>或者<uri 
link="http://www.ultralinux.org/faq.html#s_2">UltraLinux FAQ</uri>
  </ti>
</tr>
<tr>
  <th>CPU</th>
  <ti>
    目前我们仅支持sparc64 CPU
  </ti>
</tr>
<tr>
  <th>内存</th>
  <ti>64 MB</ti>
</tr>
<tr>
  <th>磁盘空间</th>
  <ti>1.5 GB（不包括交换空间）</ti>
</tr>
<tr>
  <th>交换空间</th>
  <ti>至少256MB</ti>
</tr>
</table>

</body>
</subsection>
</section>



<!-- Copy/Paste from hb-install-x86-medium.xml 
 Warning: The part originally contains "x86" 
 START -->
<section>
<title>Gentoo安装光盘</title>
<subsection>
<title>介绍</title>
<body>

<p>
<e>安装光盘</e>是一个可引导的介质并含有一个自持的Gentoo环境。它允许你从光盘引导Linux。在引导的过程中你的硬件将被检测，适当的驱动程序会被加载。Gentoo安装光盘由Gentoo开发者维护。
</p>

<p>
所有的安装光盘都可以引导，设立网络，初始化分区和从Internet开始安装Gentoo。目前我们提供的两个安装光盘都适合来安装Gentoo，只要你计划进行一个基于Internet来安装可用软件的最新版本。
</p>

<p>
如果你想在脱离网络连接的情况下安装Gentoo，请使用<uri link="2006.1/index.xml">Gentoo 
2006.1手册</uri>。
</p>

<p>
目前我们提供的两种安装光盘是：
</p>

<ul>
  <li>
    Gentoo<e>最小</e>安装光盘，是一个小型的、实用的并且可引导的光盘，专门提供给那些只需要引导系统、准备网络然后继续Gentoo安装的人。
  </li>
  <li>
    Gentoo<e>通用</e>安装光盘，和最小安装光盘一样是个可引导的光盘。此外还包含有许多stage3 tarball（单独为各子架构优化过）。 
  </li>
</ul>

<p>
目前我们只提供sparc64架构的安装光盘。sparc32用户可以使用实验性的网络引导镜像来安装Gentoo。更多关于网络引导的信息可以在<uri 
link="/doc/en/gentoo-sparc-netboot-howto.xml">Gentoo/SPARC网络引导HOWTO</uri>找到。
</p>

<p>
为了帮助你决定需要下哪张光盘，我们写下了每种安装光盘的主要优点和缺点。
</p>

</body>
</subsection>
<subsection>
<title>Gentoo最小安装光盘</title>
<body>

<p>
最小安装光盘叫做<c>install-sparc64-minimal-2006.1.iso</c>并且只需要32MB的磁盘空间。你可以使用这个安装光盘来安装Gentoo，但是仅在有Internet连接的时候。
</p>

<table>
<tr>
  <th>Gentoo最小安装光盘</th>
  <th>赞成和反对</th>
</tr>
<tr>
  <th>+</th>
  <ti>最小下载</ti>
</tr>
<tr>
  <th>-</th>
  <ti>
    不含有stage3,没有Portage快照，没有预编译包，因此它不适合无网络环境下安装。
  </ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>Gentoo通用安装光盘</title>
<body>

<p>
通用安装光盘叫做<c>install-sparc64-universal-2006.1.iso</c>并需要287MB的空间。你可以使用这张安装光盘来安装Gentoo，甚至你可以脱离网络环境进行安装，万一你想在另一台电脑上安装Gentoo，而不是现在你安装的Gentoo上面:)
</p>

<table>
<tr>
  <th>Gentoo通用安装光盘</th>
  <th>赞成和反对</th>
</tr>
<tr>
  <th>+</th>
  <ti>
    包含你要的所有东西。你甚至可以在没有网络连接的情况下安装。
  </ti>
</tr>
<tr>
  <th>-</th>
  <ti>大量下载</ti>
</tr>
</table>

</body>
</subsection>
<subsection>
<title>其它的光盘</title>
<body>

<p>
Gentoo还提供了<e>软件光盘</e>。这不是一个安装光盘，而是个附加资源，你可以在安装过程中利用它。它包含了一些预编译的软件（也就是GRP套件）允许你在无网路Gentoo安装后方便并且快速的安装附加的软件（例如OpenOffice.org、KDE、GNOME、……）。
</p>

<p>
如果你打算使用软件光盘来快速的安装额外软件，确保你使用了和stage3同样的架构。
</p>

</body>
</subsection>
<subsection>
<title>Stage3 Tarball</title>
<body>

<p>
stage3 tarball是个含有最小Gentoo环境的归档，适合你按照本手册来安装Gentoo。以前，Gentoo手册描述了使用三种stage 
tarball里的一种来进行安装。虽然Gentoo还提供stage1和stage2 tarball，但是官方的安装方法使用stage3 
tarball。如果你对如何使用stage1或者stage2来安装Gentoo，请看Gentoo FAQ上的<uri 
link="/doc/en/faq.xml#stage12">如果使用Stage1或Stage2 Tarball安装Gentoo？</uri>
</p>

</body>
</subsection>
</section>

<!-- STOP -->
<section>
<title>下载、刻录和引导Gentoo安装光盘</title>
<subsection>
<title>下载和刻录安装光盘</title>
<body>

<p>
你要选择一个Gentoo安装光盘。我们先从下载并刻录安装光盘开始。前面我们讨论了几种可用的安装光盘，但是在哪里可以找到呢？
</p>

<p>
你可以从我们的某个<uri 
link="/main/en/mirrors.xml">镜像</uri>下载安装光盘（如果你愿意也可以下载软件光盘）。安装光盘在<path>releases/sparc/2006.1/sparc64/installcd</path>目录下；软件光盘在<path>releases/sparc/2006.1/sparc64/packagecd</path>目录里。
</p>

<p>
在这些目录中你会找到一些ISO文件。它们是所有的光盘镜像，你可以用来刻录到CD-R上。
</p>

<p>
你可以检查它的MD5校验然后和我们提供的MD5校验和（比如<path>install-sparc64-minimal-2006.1.iso.DIGESTS</path>）进行比较（例如在Linux/Unix下使用<c>md5sum</c>工具或在Windows下用<uri 
link="http://www.etree.org/md5com.html">md5sum</uri>）。
</p>

<p>
另一个检查下载文件有效性的方法就是用GnuPG来校验我们提供的加密签名（以<path>.asc</path>结尾的文件）。下载签名文件和取得公钥：
</p>

<pre caption="取得公钥">
$ <i>gpg --keyserver subkeys.pgp.net --recv-keys 17072058</i>
</pre>

<p>
现在校验签名：
</p>

<pre caption="验证数字签名">
$ <i>gpg --verify &lt;签名文件&gt; &lt;下载的iso&gt;</i>
</pre>

<p>
为了刻录下载的ISO文件，你需要选择raw-burning。怎么做这依赖你所用的程序。这里我们将讨论<c>cdrecord</c>和<c>K3B</c>；更多的信息可以在我们的<uri 
link="/doc/en/faq.xml#isoburning">Gentoo FAQ</uri>中找到。
</p>

<ul>
  <li>
    使用cdrecord，你只要简单的输入<c>cdrecord dev=/dev/hdc &lt;downloaded 
iso&gt;</c>（把<path>/dev/hdc</path>替换为你的刻录机的路径）。
  </li>
  <li>
    使用K3B，选择<c>Tools</c> &gt; <c>CD</c> &gt; <c>Burn Image</c>。然后在"Image to 
Burn"区域里指定你的ISO文件所在。最后点击<c>Start</c>。
  </li>
</ul>

</body>
</subsection>
<subsection>
<title>开始引导安装光盘</title>
<body>

<p>
插入Gentoo安装光盘到光驱中，然后启动系统。在启动过程中，按Stop-A来进入OpenBootPROM（OBP）。等你进入OBP后，从光驱引导：
</p>

<pre caption="开始引导安装光盘">
ok <i>boot cdrom</i>
</pre>

<p>
映入眼帘的将是SILO引导管理器（安装光盘上的）。输入<c>gentoo</c>然后按回车继续引导系统：
</p>

<pre caption="接着从安装光盘开始引导">
boot: <i>gentoo</i>
</pre>

<p>
一旦安装光盘引导成功，你将自动登陆到系统。
</p>

<p>
你应该在当前控制台得到一个根用户提示符（"#"），也可以按Alt-F2、Alt-F3和Alt-F4切换到其它控制台。按Alt-F1就回到开始的那个了。你还可以在串口控制台（<path>ttyS0</path>）找到一个根用户提示符。
</p>

<p>
继续<uri link="#hardware">额外硬件的配置</uri>。
</p>

</body>
</subsection>
<subsection id="hardware">
<title>额外硬件的配置</title>
<body>

<p>
如果不是所有的硬件都被支持，你需要加载适当的内核模块。
</p>

<p>
接下来的例子中我们尝试加载<c>8139too</c>模块（以支持某些网卡）：
</p>

<pre caption="加载内核模块">
# <i>modprobe 8139too</i>
</pre>

</body>
</subsection>
<subsection id="useraccounts">
<title>可选的：用户账号</title>
<body>

<p>
如果你打算让其它人进入你的安装环境或者你想以非根用户身份（为安全考虑）使用<c>irssi</c>来聊天，你需要创建必需的用户账号并且更改根用户的密码。
</p>

<p>
修改根用户密码，使用<c>passwd</c>工具：
</p>

<pre caption="更改根用户密码">
# <i>passwd</i>
New password: <comment>(Enter your new password)</comment>
Re-enter password: <comment>(Re-enter your password)</comment>
</pre>

<p>
为了创建用户账号，我们先输入他们的信息，接着是密码。我们使用<c>useradd</c>和<c>passwd</c>来做这些事。在下一个例子中，我们将创建一个叫&quot;john&quot;的用户。
</p>

<pre caption="创建用户账号">
# <i>useradd -m -G users john</i>
# <i>passwd john</i>
New password: <comment>(Enter john's password)</comment>
Re-enter password: <comment>(Re-enter john's password)</comment>
</pre>

<p>
你可以使用<c>su</c>从根用户改变用户id为新建的用户：
</p>

<pre caption="改变用户id">
# <i>su - john</i>
</pre>

</body>
</subsection>
<subsection>
<title>可选的：在安装时查看文档</title>
<body>

<p>
在安装过程中你想查看Gentoo手册（要么是光盘上的或者在线的），确定你有建立一个用户账号（查看<uri 
link="#useraccounts">可选的：用户账号</uri>。然后按<c>Alt-F2</c>切换到一个新的终端并登陆。
</p>

<p>
如果你想马上查看光盘里的文档，运行<c>links</c>来查看：
</p>

<pre caption="查看光盘上的文档">
# <i>links /mnt/cdrom/docs/handbook/html/index.html</i>
</pre>

<p>
然而，你最好是使用在线的Gentoo手册，因为它比光盘中的更新一些。你也可以用<c>links</c>来查看，但是得在完成了<e>配置你的网络</e>以后（否则你将无法连接到Internet上查看文档）：
</p>

<pre caption="查看在线文档">
# <i>links http://www.gentoo.org/doc/en/handbook/handbook-sparc.xml</i>
</pre>

<p>
你可用按<c>Alt-F1</c>来返回最初的那个终端。
</p>

</body>
</subsection>
<subsection>
<title>可选的：启动SSH守护进程</title>
<body>

<p>
如果你想让其它用户在安装过程中访问你的电脑（大概因为他们来帮你安装Gentoo，甚至是代你安装）。你需要为他们建立账户也许还要告诉他们你的根用户密码（<e>仅仅</e>在你<b>完全信任</b>那个用户的时候）。
</p>

<p>
为了打开SSH守护进程，执行以下命令：
</p>

<pre caption="打开SSH守护进程">
# <i>/etc/init.d/sshd start</i>
</pre>

<p>
为了能使用sshd，你需要先设置好网络。继续到下一章<uri link="?part=1&amp;chap=3">配置你的网络</uri>。
</p>

</body>
</subsection>
</section>
</sections>
